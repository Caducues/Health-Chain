<!DOCTYPE html>
<html>
<head>
    <title>Hastane Blockchain Sistemi</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .hash-text { font-family: monospace; font-size: 0.85em; color: #d63384; }
        .block-card { border-left: 5px solid #0d6efd; margin-bottom: 20px; }
    </style>
</head>
<body class="container py-4">
    <h1 class="mb-4">ğŸ¥ Hastane Blockchain KayÄ±tlarÄ±</h1>

   <div class="mb-4">
    <a href="/register_patient" class="btn btn-success">+ Yeni Hasta KaydÄ±</a>
    <a href="/add_record" class="btn btn-primary ms-2">+ Muayene Ekle</a>
    <a href="/verify" class="btn btn-warning ms-2">ğŸ›¡ï¸ Sistemi Denetle</a>
       <a href="/add_doctor" class="btn btn-secondary ms-2">ğŸ‘¨â€âš•ï¸ Doktor Ekle</a>
</div>
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, message in messages %}
          <div class="alert alert-{{ category }}">{{ message }}</div>
        {% endfor %}
      {% endif %}
    {% endwith %}

    <div class="list-group">
        {% for record in records %}
        <div class="list-group-item block-card shadow-sm">
            <div class="d-flex w-100 justify-content-between">
                <h5 class="mb-1">{{ record[0] }} {{ record[1] }}</h5>
                <small class="text-muted">{{ record[5] }}</small>
            </div>
            <p class="mb-1">
                <strong>Veri:</strong> {{ record[2] }}
            </p>
            <div class="mt-2 p-2 bg-light rounded">
                <div><small>ğŸ”— Ã–nceki Hash:</small> <span class="hash-text">{{ record[4] }}</span></div>
                <div><small>ğŸ”’ Blok Hash:</small> <span class="hash-text">{{ record[3] }}</span></div>
            </div>
        </div>
        {% endfor %}
    </div>
</body>
</html>